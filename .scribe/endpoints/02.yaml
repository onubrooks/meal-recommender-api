name: 'Meal Recommender'
description: |-

  Endpoints for fetching meal recommendations
endpoints:
  -
    httpMethods:
      - POST
    uri: api/recommend
    metadata:
      title: 'Fetch Multiple Users Recommendations'
      description: |-
        Fetch all recommended meals for a list of users' based on their allergies. If everything is okay, you'll get a 200 OK response.

        Otherwise, the request will fail with a 400 error, and an error field.
      authenticated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    queryParameters: []
    bodyParameters:
      users:
        name: users
        description: 'The list of IDs of users to fetch reccomendations.'
        required: true
        example:
          - 1
          - 2
        type: 'integer[]'
    responses:
      -
        status: 400
        content: .
        headers: []
        description: '400, Service is down or an unexpected error occurred'
      -
        status: 200
        content: '{"status":"success","message":"fetch recommendations successful","data":[{"user":{"id":1,"name":"Brad Pitt","email":"pit@onubrooksapi.com"},"recommended_meals":[{"id":3,"name":"akpu and Ewedu","description":"special akpu from the eastern part of Nigeria","items":[]},{"id":4,"name":"pounded yam and Ewedu","description":"special pounded yam from the southern part of Nigeria","items":[]},{"id":5,"name":"Eba and Okra","description":"special garri cake with okra soup","items":[]},{"id":6,"name":"Grilled Fish with Spice Chilli","description":"This is the description","items":[]}]},{"user":{"id":2,"name":"Harvey Specter","email":"harvey@onubrooksapi.com"},"recommended_meals":[{"id":1,"name":"Eba and Ewedu","description":"special eba from the western part of Nigeria","items":[{"id":1,"name":"Ewedu","description":"Ewedu soup","pivot":{"meal_id":1,"item_id":1}},{"id":11,"name":"Eba","description":"delicious swallow","pivot":{"meal_id":1,"item_id":11}}]},{"id":3,"name":"akpu and Ewedu","description":"special akpu from the eastern part of Nigeria","items":[]},{"id":4,"name":"pounded yam and Ewedu","description":"special pounded yam from the southern part of Nigeria","items":[]},{"id":5,"name":"Eba and Okra","description":"special garri cake with okra soup","items":[]},{"id":6,"name":"Grilled Fish with Spice Chilli","description":"This is the description","items":[]}]}]}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          x-ratelimit-limit: '60'
          x-ratelimit-remaining: '59'
          access-control-allow-origin: '*'
        description: null
    responseFields:
      status:
        name: status
        description: 'The status of this API (`success` or `error`).'
        type: string
      message:
        name: message
        description: 'The service message based on the status of the call.'
        type: string
      data:
        name: data
        description: 'List of recommended meals for each user.'
        type: array
  -
    httpMethods:
      - POST
    uri: api/recommend/user
    metadata:
      title: 'Fetch User Recommendations'
      description: |-
        Fetch a list of a given users' recommended meals based on their allergies. If everything is okay, you'll get a 200 OK response.

        Otherwise, the request will fail with a 400 error, and an error field.
      authenticated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    queryParameters: []
    bodyParameters:
      user_id:
        name: user_id
        description: 'The id of the user.'
        required: true
        example: 1
        type: integer
    responses:
      -
        status: 400
        content: .
        headers: []
        description: '400, Service is down or an unexpected error occurred'
      -
        status: 200
        content: '{"status":"success","message":"fetch recommendations successful","data":{"user":{"id":1,"name":"Brad Pitt","email":"pit@onubrooksapi.com"},"recommended_meals":[{"id":3,"name":"akpu and Ewedu","description":"special akpu from the eastern part of Nigeria","items":[]},{"id":4,"name":"pounded yam and Ewedu","description":"special pounded yam from the southern part of Nigeria","items":[]},{"id":5,"name":"Eba and Okra","description":"special garri cake with okra soup","items":[]},{"id":6,"name":"Grilled Fish with Spice Chilli","description":"This is the description","items":[]}]}}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          x-ratelimit-limit: '60'
          x-ratelimit-remaining: '58'
          access-control-allow-origin: '*'
        description: null
    responseFields:
      status:
        name: status
        description: 'The status of this API (`success` or `error`).'
        type: string
      message:
        name: message
        description: 'The service message based on the status of the call.'
        type: string
      data:
        name: data
        description: 'List of users'' recommended meals.'
        type: object
